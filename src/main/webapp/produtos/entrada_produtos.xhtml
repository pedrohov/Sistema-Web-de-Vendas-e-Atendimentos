<ui:composition template="/WEB-INF/templates/layout.xhtml" 
   xmlns="http://www.w3.org/1999/xhtml"
   xmlns:h="http://xmlns.jcp.org/jsf/html"
   xmlns:f="http://xmlns.jcp.org/jsf/core"
   xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
   xmlns:p="http://primefaces.org/ui">
 
 	<ui:define name="title">
	    <title>Entrade de Produtos</title>
	</ui:define>
 
    <ui:define name="content">
    <h:form id="form">
		<h2>Entrada de Produtos</h2>
		<div class="form-group">
			<div class="row">
				<div class="container crud-menu">
					<p:button value="Pesquisar" outcome="produtos"/>   
				</div>
			</div>
		</div>
		<div class="row justify-content-md-center">
		<div class="col">
		
		
			<!-- Atualizar bean -->
			<f:metadata>
				<f:viewParam name="dummy" />
				<f:event listener="#{entProduto.preRender}" type="preRenderView" />
			</f:metadata>
		
			<p:messages/>
			
			<div class="form-group">
				<div class="form-row">
					<div class="col">
						<h:outputLabel value="Produto" id="lbProduto" for="inpProduto" />
					</div>
				</div>
				<div class="form-row">
					<div class="col">
						<p:selectOneMenu id="inpProduto" value="#{entProduto.obj}"
										 required="true" styleClass="form-control customInp"
										 requiredMessage="Selecione um produto." >
				        	<p:ajax event="change" listener="#{entProduto.changeProduto}" update="form:inpStock"/>
				        	<f:selectItem itemLabel="Selecionar Produto" itemValue="#{null}" />
				            <f:selectItems value="#{entProduto.produtos}" />
				            
				        </p:selectOneMenu>
					</div>
				</div>
			</div>
			
			<div class="form-group">
				<div class="form-row">
					<div class="col">
						<h:outputLabel value="Estoque" id="lbStock" for="inpStock"/>
					</div>
				</div>
				<div class="form-row">
					<div class="col">
						<h:inputText value="#{entProduto.obj.estoque}"
									 id="inpStock" class="form-control"
									 requiredMessage="Informe a quantidade." required="true"  />
					</div>
				</div>
			</div>
			
		  	<h:commandButton class="btn btn-lg btn-primary btn-block"
							 value="Alterar" id="btnEditar" action="#{entProduto.altEstoque()}" />
		
</div>
</div>
</h:form>
	</ui:define>
</ui:composition>
<ui:composition template="/WEB-INF/templates/layout.xhtml" 
   xmlns="http://www.w3.org/1999/xhtml"
   xmlns:h="http://xmlns.jcp.org/jsf/html"
   xmlns:f="http://xmlns.jcp.org/jsf/core"
   xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
   xmlns:p="http://primefaces.org/ui">
 
 	<ui:define name="title">
	    <title>Novo Atendimento</title>
	</ui:define>
 
    <ui:define name="content">

	<h2>Cadastrar Atendimento</h2>
	<h:form id="form" enctype="multipart/form-data">
		<div class="form-group">
			<div class="row">
				<div class="container crud-menu">
					<p:button value="Pesquisar" outcome="atendimentos"/>   
				</div>
			</div>
		</div>
	
		<div class="row justify-content-md-center">
		<div class="col">
	
		<!-- Atualizar bean -->
		<f:metadata>
			<f:viewParam name="dummy" />
			<f:event listener="#{atendimento.preRender}" type="preRenderView" />
		</f:metadata>
	
		<p:messages/>
		<div class="form-group">
			<div class="form-row">
				<div class="col">
					<h:outputLabel value="Cliente" id="lbCliente" for="inpCliente" />
				</div>
				<div class="col">
					<h:outputLabel value="Atendente" id="lbAtendente" for="inpAtendente" />
				</div>
			</div>
			<div class="form-row">
				<div class="col">
					<p:selectOneMenu id="inpCliente" value="#{atendimento.obj.cliente}" 
									 required="true" styleClass="form-control customInp"
									 requiredMessage="Selecione um cliente.">
			        	<f:selectItem  itemLabel="Clientes" itemValue="#{null}" />
			            <f:selectItems value="#{atendimento.clientes}"  />
			        </p:selectOneMenu>
				</div>
				<div class="col">
					<p:selectOneMenu id="inpAtendente" value="#{atendimento.obj.atendente}"
									 required="true" styleClass="form-control customInp"
									 requiredMessage="Selecione um atendente.">
			        	<f:selectItem  itemLabel="Atendentes" itemValue="#{null}" />
			            <f:selectItems value="#{atendimento.atendentes}" />
			        </p:selectOneMenu>
				</div>
				
			</div>
		</div>
		
		<div class="form-group">
			<div class="form-row">
				<div class="col-2">
					<h:outputLabel value="Data e Hora" id="lbData" for="inpData" />
				</div>
				<div class="col">
					<h:outputLabel value="Servico" id="lbServico" for="inpServico" />
				</div>
			</div>
			<div class="form-row">
				<div class="col-2">
					<p:calendar id="inpData" value="#{atendimento.obj.data}" autocomplete="off"
	  		                    pattern="MM/dd/yyyy HH:mm" locaale="pt" required="true"
	  		                    requiredMessage="Selecione um horário."/>
				</div>
				<div class="col">
					<p:selectOneMenu id="inpServico" value="#{atendimento.obj.servico}"
									 required="true" styleClass="form-control customInp"
									 requiredMessage="Selecione um serviço.">
			        	<f:selectItem  itemLabel="Serviços" itemValue="#{null}" />
			            <f:selectItems value="#{atendimento.servicos}" />
			        </p:selectOneMenu>
				</div>
			</div>
			<div class="form-row">
				<div class="col">
					<h:outputLabel value="Comentários" id="lbComment" for="inpComment" style="width: 100%;"/>
				</div>
			</div>
			<div class="form-row">
				<div class="col">
					<h:inputTextarea id="inpComment" class="form-control" rows="2" value="#{atendimento.obj.comentarios}"></h:inputTextarea>
				</div>
			</div>
		</div>
		
	  	<h:commandButton class="btn btn-lg btn-primary btn-block"
						 value="Cadastrar" id="btnCadastro"
						 action="#{atendimento.adicionar}" />
	
    </div>
    </div>
    </h:form>
    </ui:define>
</ui:composition>